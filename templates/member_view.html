{% extends "base.html" %}

{% block content %}

<div class="left-sidebar">
    <div class="box">
        <table class="styled-table">
            <caption>
                <h1 style="color:red">User details for {{user.username}}</h1>

            </caption>
            <thead>
                <tr>
                    <th>Property</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>

                <tr>
                    <td>Username</td>
                    <td>{{ user.username}}</td>
                </tr>
                <tr>
                    <td>First name</td>
                    <td>{{ user.name}}</td>
                </tr>
                <tr>
                    <td>Last name</td>
                    <td>{{ user.surname}}</td>
                </tr>
                <tr>
                    <td>Email</td>
                    <td>{{ user.email }}</td>
                </tr>
                <tr>
                    <td>Strava account</td>
                    <td>{{ user.strava_account }}</td>
                </tr>
                <tr>
                    <td>Phone number</td>
                    <td>{{ user.phone_number }}</td>
                </tr>

            </tbody>
        </table>

    </div>



</div>

<div class="main">

    <center>


        <div class="box">

            <table class="styled-table">
                <caption>
                    <h1 style="color:red">{{user.username}}'s trips in {{team.name}}</h1>
                </caption>
                <thead>
                    <tr>
                        <th><b>Trip Name</b></th>
                        <th>Speed [km/h]</th>
                        <th>Distance [km]</th>
                        <th>Elevation [m]</th>
                        <th>Number of partecipants</th>
                        <th>Prestige</th>
                        <th>Description</th>
                        <th>Score</th>
                        {%if role=='team_leader' or user==current_user%}
                        <th>Actions</th>
                        {%endif%}
                    </tr>
                </thead>
                <tbody>
                    {% for trip in trips %}
                    <tr>
                        <td>{{trip.tripname}}</td>
                        <td>{{ trip.speed }} </td>
                        <td>{{ trip.distance }} </td>
                        <td>{{trip.elevation}}</td>
                        <td>{{trip.n_of_partecipants}}</td>
                        <td>{{trip.prestige}}</td>
                        <td>{{trip.description}}</td>
                        <td>{{trip.score}}</td>

                        {%if user in team.users%}
                        {%if user==current_user%}
                        <td><a class="delete-button"
                                href="{{url_for('edit_trip',trip_id=trip.id,user_id=current_user.id)}}">Edit</a>
                        </td>
                        {%endif%}
                        {%if role=='team_leader' and user!=current_user%}
                        <td><a class="delete-button"
                                href="{{url_for('edit_trip',trip_id=trip.id,user_id=user.id)}}">Edit</a></td>
                        {%endif%}
                        {%endif%}

                    </tr>
                    {% endfor %}
                </tbody>
                {%if role=='team_leader'%}
                <tfoot>
                    <tr>
                        <td colspan="9" style="text-align: center;">
                            <button>
                                <a href="{{url_for('new_trip',user_id=user.id)}}"
                                    style="align-items:center; color:black;">Add
                                    new
                                    trip
                                </a>
                            </button>
                        </td>
                    </tr>
                </tfoot>
                {%endif%}
            </table>
        </div>


        <br>

    </center>
</div>

<div class="right-sidebar"></div>
{% endblock %}