{% extends "base.html" %}

{% block content %}

<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles_manage_team.css') }}">


</head>

<center>
    <h1 style="color:red">Manage your team:</h1>
</center>

<center>
    <h1 style="color:red">Users list: </h1>
    <div class="post-container">
        <div class="post-container">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>User</th>
                        <th>Role</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in members %}
                    <tr>
                        <td><a href="/view_user_profile_by_TL/{{user.id}}">{{ user.username }}</a></td>
                        <td>
                            <form method="POST" action="{{ url_for('change_role') }}">
                                <input type="hidden" name="user_id" value="{{ user.id }}">
                                <select name="role">
                                    {% if user.role == "user" %}
                                    <option value="user" selected>User</option>
                                    {% else %}
                                    <option value="user">User</option>
                                    {% endif %}
                                    {% if user.role == "team_leader" %}
                                    <option value="team_leader" selected>Team Leader</option>
                                    {% else %}
                                    <option value="team_leader">Team Leader</option>
                                    {% endif %}
                                </select>
                                <input type="submit" value="Change Role">
                            </form>
                        </td>
                        <td>
                            <form method="POST"
                                action="{{ url_for('unenroll_from_team', team_id=team.id, user_id=user.id) }}">
                                <input type="hidden" name="user_id" value="{{ user.id }}">
                                <div class="unenroll-button-container">
                                    <input type="submit" class="unenroll-button" value="Unenroll">
                                </div>

                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>


    </div>
</center>


{% endblock %}